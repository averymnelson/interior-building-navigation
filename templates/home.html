{% extends "base.html" %}
{% block content %}

<!-- Map Container -->
<div id="map" style="width: 100%; height: 500px; border: 2px solid #ccc;">
    <script>
        var map = L.map('map', {
            minZoom: 0, 
            maxZoom: 5,
            center: [0, 0], 
            zoom: 1,
            crs: L.CRS.Simple,
            attributionControl: false
        });

        var w = 800, h = 500; 
        var bounds = [[0, 0], [h, w]];

        // Load low-res image first
        var image = L.imageOverlay("{{ url_for('static', filename='images/map_lowres.jpg') }}", bounds).addTo(map);
        map.fitBounds(bounds);

        // Swap with high-res image after the page loads
        window.onload = function() {
            image.setUrl("{{ url_for('static', filename='images/map.jpg') }}");
        };
    </script>
</div>
{% endblock %}